import ts from 'typescript';
const parseConfigHost = {
    fileExists: ts.sys.fileExists,
    readFile: ts.sys.readFile,
    readDirectory: ts.sys.readDirectory,
    useCaseSensitiveFileNames: true,
};
export function readTSConfig(searchPath, configName = 'tsconfig.json') {
    const configFileName = ts.findConfigFile(searchPath, ts.sys.fileExists, configName);
    if (!configFileName)
        throw new Error(`Undefined "${configName}" file on "${searchPath}"`);
    const { config, error } = ts.readConfigFile(configFileName, ts.sys.readFile);
    if (error) {
        throw error;
    }
    else if (!config) {
        throw new Error(`It was not generated config from readConfigFile("${configFileName}")`);
    }
    return ts.parseJsonConfigFileContent(config, parseConfigHost, searchPath);
}
export function parseTSConfig(searchPath, tsconfig) {
    return ts.parseJsonConfigFileContent(tsconfig, parseConfigHost, searchPath);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvQHNzZW4vcmVhZC10c2NvbmZpZy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsTUFBTSxZQUFZLENBQUM7QUFFNUIsTUFBTSxlQUFlLEdBQXVCO0lBQzFDLFVBQVUsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLFVBQVU7SUFDN0IsUUFBUSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUTtJQUN6QixhQUFhLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxhQUFhO0lBQ25DLHlCQUF5QixFQUFFLElBQUk7Q0FDaEMsQ0FBQztBQUVGLE1BQU0sVUFBVSxZQUFZLENBQzFCLFVBQWtCLEVBQ2xCLGFBQXFCLGVBQWU7SUFFcEMsTUFBTSxjQUFjLEdBQXVCLEVBQUUsQ0FBQyxjQUFjLENBQzFELFVBQVUsRUFDVixFQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsRUFDakIsVUFBVSxDQUNYLENBQUM7SUFFRixJQUFJLENBQUMsY0FBYztRQUNqQixNQUFNLElBQUksS0FBSyxDQUFDLGNBQWMsVUFBVSxjQUFjLFVBQVUsR0FBRyxDQUFDLENBQUM7SUFFdkUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsR0FBRyxFQUFFLENBQUMsY0FBYyxDQUFDLGNBQWMsRUFBRSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRTdFLElBQUksS0FBSyxFQUFFO1FBQ1QsTUFBTSxLQUFLLENBQUM7S0FDYjtTQUFNLElBQUksQ0FBQyxNQUFNLEVBQUU7UUFDbEIsTUFBTSxJQUFJLEtBQUssQ0FDYixvREFBb0QsY0FBYyxJQUFJLENBQ3ZFLENBQUM7S0FDSDtJQUVELE9BQU8sRUFBRSxDQUFDLDBCQUEwQixDQUFDLE1BQU0sRUFBRSxlQUFlLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDNUUsQ0FBQztBQUVELE1BQU0sVUFBVSxhQUFhLENBQzNCLFVBQWtCLEVBQ2xCLFFBQWdCO0lBRWhCLE9BQU8sRUFBRSxDQUFDLDBCQUEwQixDQUFDLFFBQVEsRUFBRSxlQUFlLEVBQUUsVUFBVSxDQUFDLENBQUM7QUFDOUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0cyBmcm9tICd0eXBlc2NyaXB0JztcblxuY29uc3QgcGFyc2VDb25maWdIb3N0OiB0cy5QYXJzZUNvbmZpZ0hvc3QgPSB7XG4gIGZpbGVFeGlzdHM6IHRzLnN5cy5maWxlRXhpc3RzLFxuICByZWFkRmlsZTogdHMuc3lzLnJlYWRGaWxlLFxuICByZWFkRGlyZWN0b3J5OiB0cy5zeXMucmVhZERpcmVjdG9yeSxcbiAgdXNlQ2FzZVNlbnNpdGl2ZUZpbGVOYW1lczogdHJ1ZSxcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZWFkVFNDb25maWcoXG4gIHNlYXJjaFBhdGg6IHN0cmluZyxcbiAgY29uZmlnTmFtZTogc3RyaW5nID0gJ3RzY29uZmlnLmpzb24nLFxuKTogdHMuUGFyc2VkQ29tbWFuZExpbmUge1xuICBjb25zdCBjb25maWdGaWxlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdHMuZmluZENvbmZpZ0ZpbGUoXG4gICAgc2VhcmNoUGF0aCxcbiAgICB0cy5zeXMuZmlsZUV4aXN0cyxcbiAgICBjb25maWdOYW1lLFxuICApO1xuXG4gIGlmICghY29uZmlnRmlsZU5hbWUpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmRlZmluZWQgXCIke2NvbmZpZ05hbWV9XCIgZmlsZSBvbiBcIiR7c2VhcmNoUGF0aH1cImApO1xuXG4gIGNvbnN0IHsgY29uZmlnLCBlcnJvciB9ID0gdHMucmVhZENvbmZpZ0ZpbGUoY29uZmlnRmlsZU5hbWUsIHRzLnN5cy5yZWFkRmlsZSk7XG5cbiAgaWYgKGVycm9yKSB7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH0gZWxzZSBpZiAoIWNvbmZpZykge1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBJdCB3YXMgbm90IGdlbmVyYXRlZCBjb25maWcgZnJvbSByZWFkQ29uZmlnRmlsZShcIiR7Y29uZmlnRmlsZU5hbWV9XCIpYCxcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHRzLnBhcnNlSnNvbkNvbmZpZ0ZpbGVDb250ZW50KGNvbmZpZywgcGFyc2VDb25maWdIb3N0LCBzZWFyY2hQYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVFNDb25maWcoXG4gIHNlYXJjaFBhdGg6IHN0cmluZyxcbiAgdHNjb25maWc6IG9iamVjdCxcbik6IHRzLlBhcnNlZENvbW1hbmRMaW5lIHtcbiAgcmV0dXJuIHRzLnBhcnNlSnNvbkNvbmZpZ0ZpbGVDb250ZW50KHRzY29uZmlnLCBwYXJzZUNvbmZpZ0hvc3QsIHNlYXJjaFBhdGgpO1xufVxuIl19