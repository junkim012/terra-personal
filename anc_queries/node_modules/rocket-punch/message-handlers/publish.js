import { exec } from '@ssen/promised';
import chalk from 'chalk';
export async function publishMessageHandler(message) {
    switch (message.type) {
        case 'exec':
            console.log(chalk.bold(message.command));
            console.log('');
            const { stderr, stdout } = await exec(message.command, {
                encoding: 'utf8',
            });
            console.log(stdout);
            console.error(chalk.grey(stderr));
            break;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGlzaC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9yb2NrZXQtcHVuY2gvbWVzc2FnZS1oYW5kbGVycy9wdWJsaXNoLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUN0QyxPQUFPLEtBQUssTUFBTSxPQUFPLENBQUM7QUFHMUIsTUFBTSxDQUFDLEtBQUssVUFBVSxxQkFBcUIsQ0FBQyxPQUF3QjtJQUNsRSxRQUFRLE9BQU8sQ0FBQyxJQUFJLEVBQUU7UUFDcEIsS0FBSyxNQUFNO1lBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDaEIsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFO2dCQUNyRCxRQUFRLEVBQUUsTUFBTTthQUNqQixDQUFDLENBQUM7WUFDSCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLE1BQU07S0FDVDtBQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBleGVjIH0gZnJvbSAnQHNzZW4vcHJvbWlzZWQnO1xuaW1wb3J0IGNoYWxrIGZyb20gJ2NoYWxrJztcbmltcG9ydCB7IFB1Ymxpc2hNZXNzYWdlcyB9IGZyb20gJy4uL3BhcmFtcyc7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdWJsaXNoTWVzc2FnZUhhbmRsZXIobWVzc2FnZTogUHVibGlzaE1lc3NhZ2VzKSB7XG4gIHN3aXRjaCAobWVzc2FnZS50eXBlKSB7XG4gICAgY2FzZSAnZXhlYyc6XG4gICAgICBjb25zb2xlLmxvZyhjaGFsay5ib2xkKG1lc3NhZ2UuY29tbWFuZCkpO1xuICAgICAgY29uc29sZS5sb2coJycpO1xuICAgICAgY29uc3QgeyBzdGRlcnIsIHN0ZG91dCB9ID0gYXdhaXQgZXhlYyhtZXNzYWdlLmNvbW1hbmQsIHtcbiAgICAgICAgZW5jb2Rpbmc6ICd1dGY4JyxcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coc3Rkb3V0KTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoY2hhbGsuZ3JleShzdGRlcnIpKTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG4iXX0=